<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>5-Minute Aging Website</title>
  <style>
    :root{
      --age: 0;                 /* 0 ‚Üí 1 */
      --tint: 210;              /* base hue */
      --bg1: hsl(var(--tint) 30% 10%);
      --bg2: hsl(calc(var(--tint) + 25) 25% 12%);
      --fg:  hsl(var(--tint) 15% 92%);
      --muted: hsl(var(--tint) 10% 70%);
      --accent: hsl(calc(var(--tint) + 120) 70% 55%);
      --shadow: 0 20px 50px rgba(0,0,0,.35);
      --radius: 18px;
      --pad: 28px;
    }

    *{ box-sizing: border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color: var(--fg);
      background: radial-gradient(1200px 800px at 20% 15%, var(--bg2), var(--bg1));
      overflow-x:hidden;
    }

    /* Aging filters applied to the whole scene */
    .scene{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: clamp(18px, 4vw, 40px);
      filter:
        /* fade + dull */
        saturate(calc(1 - var(--age) * .55))
        contrast(calc(1 - var(--age) * .25))
        brightness(calc(1 - var(--age) * .15))
        /* old lens */
        blur(calc(var(--age) * 1.2px));
      transform:
        skewX(calc(var(--age) * .55deg))
        skewY(calc(var(--age) * .25deg));
      transition: filter .2s linear;
      position: relative;
    }

    .card{
      width:min(980px, 100%);
      background: rgba(255,255,255, calc(.08 - var(--age)*.04));
      border: 1px solid rgba(255,255,255, calc(.12 - var(--age)*.07));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: var(--pad);
      position: relative;
      overflow:hidden;
      backdrop-filter: blur(10px);
    }

    /* The card slowly "frays": border radius & padding drift */
    .card{
      border-radius: calc(var(--radius) - var(--age) * 10px);
      padding: calc(var(--pad) - var(--age) * 10px);
    }

    header{
      display:flex;
      gap: 18px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    h1{
      margin:0;
      font-size: clamp(22px, 3.2vw, 44px);
      letter-spacing: .2px;
      line-height: 1.05;
      text-shadow: 0 2px 16px rgba(0,0,0,.25);
    }

    p{
      margin: 12px 0 0 0;
      color: var(--muted);
      max-width: 62ch;
      line-height: 1.6;
    }

    .status{
      display:flex;
      align-items:center;
      gap:12px;
      padding:10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.15);
      background: rgba(0,0,0,.18);
      white-space:nowrap;
    }

    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 18px rgba(255,255,255,.15), 0 0 14px rgba(0,0,0,.25);
      opacity: calc(1 - var(--age) * .2);
    }

    .bar{
      height:10px;
      width:160px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
      position:relative;
    }
    .bar > i{
      display:block;
      height:100%;
      width: calc((1 - var(--age)) * 100%);
      background: linear-gradient(90deg, rgba(255,255,255,.6), rgba(255,255,255,.25));
      border-radius:999px;
    }

    .grid{
      margin-top: 22px;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
      .bar{ width: 140px; }
    }

    .panel{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255, .14);
      background: rgba(0,0,0, .16);
      padding: 18px;
      position:relative;
      overflow:hidden;
      min-height: 180px;
    }

    .panel h2{
      margin:0 0 8px 0;
      font-size: 16px;
      letter-spacing:.4px;
      text-transform: uppercase;
      color: rgba(255,255,255,.75);
    }

    .list{
      display:grid;
      gap: 10px;
      margin-top: 14px;
    }
    .item{
      display:flex;
      gap: 12px;
      align-items:center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255, .10);
      background: rgba(255,255,255, .06);
      transform: translateY(calc(var(--age) * 1px));
    }
    .ico{
      width:34px; height:34px;
      border-radius: 12px;
      background: rgba(255,255,255,.10);
      display:grid;
      place-items:center;
      font-weight:700;
      opacity: calc(1 - var(--age) * .35);
    }
    .item strong{ font-weight: 650; }
    .item span{ color: rgba(255,255,255,.65); font-size: 13px; }

    .actions{
      margin-top: 18px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }
    button{
      cursor:pointer;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: var(--fg);
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 600;
      letter-spacing: .2px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    button:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.12);
      border-color: rgba(255,255,255,.28);
    }

    /* Noise overlay (gets stronger) */
    .noise{
      pointer-events:none;
      position:absolute; inset:0;
      opacity: calc(var(--age) * .22);
      mix-blend-mode: overlay;
      background-image:
        repeating-linear-gradient(0deg,
          rgba(255,255,255,.08) 0px,
          rgba(255,255,255,.08) 1px,
          rgba(0,0,0,0) 2px,
          rgba(0,0,0,0) 4px),
        repeating-linear-gradient(90deg,
          rgba(0,0,0,.07) 0px,
          rgba(0,0,0,.07) 1px,
          rgba(0,0,0,0) 2px,
          rgba(0,0,0,0) 5px);
      filter: blur(.4px);
    }

    /* "Cracks" overlay using gradients */
    .cracks{
      pointer-events:none;
      position:absolute; inset:-20%;
      opacity: calc(var(--age) * .28);
      transform: rotate(calc(var(--age) * 6deg));
      background:
        linear-gradient(115deg, rgba(255,255,255,.22) 0 1px, transparent 1px 100%),
        linear-gradient(35deg,  rgba(255,255,255,.18) 0 1px, transparent 1px 100%),
        linear-gradient(160deg, rgba(255,255,255,.14) 0 1px, transparent 1px 100%);
      background-size:
        520px 520px,
        680px 680px,
        840px 840px;
      background-position:
        0 0,
        120px 240px,
        280px 120px;
      filter: blur(calc(1px + var(--age) * 1.4px));
    }

    /* Text decay: slight wobble increases over time */
    .wobble{
      display:inline-block;
      animation: wobble 2.6s ease-in-out infinite;
      animation-play-state: running;
      transform-origin: left center;
    }
    @keyframes wobble{
      0%,100%{ transform: translateY(0px) rotate(0deg); }
      50%{ transform: translateY(calc(var(--age) * 1.2px)) rotate(calc(var(--age) * .25deg)); }
    }

    /* End screen */
    .dead{
      position:absolute; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 32px;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(10px);
      text-align:center;
    }
    .dead.show{ display:flex; }
    .dead .box{
      max-width: 680px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      border-radius: 18px;
      padding: 22px;
    }
    .dead h3{
      margin: 0 0 10px 0;
      font-size: 22px;
    }
    .dead p{ margin:0; color: rgba(255,255,255,.72); }

    /* tiny glitch when old */
    .glitch{
      position:relative;
    }
    .glitch::after{
      content: "";
      position:absolute; inset:-2px;
      background: rgba(255,255,255,.08);
      opacity: 0;
      mix-blend-mode: overlay;
      transform: translateX(0);
      animation: glitch 4.2s infinite;
    }
    @keyframes glitch{
      0%, 82%, 100%{ opacity: 0; transform: translateX(0); }
      83%{ opacity: calc(var(--age) * .25); transform: translateX(calc(var(--age) * 6px)); }
      84%{ opacity: 0; transform: translateX(0); }
      91%{ opacity: calc(var(--age) * .18); transform: translateX(calc(var(--age) * -5px)); }
      92%{ opacity: 0; }
    }

    /* Optional: respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .wobble{ animation: none; }
      .glitch::after{ animation: none; }
      button{ transition:none; }
      .scene{ transition:none; }
    }
  </style>
</head>

<body>
  <div class="scene" id="scene">
    <div class="card glitch" id="card">
      <div class="noise"></div>
      <div class="cracks"></div>

      <header>
        <div>
          <h1><span class="wobble">This website</span> is aging.</h1>
          <p>
            It will slowly decay for five minutes: colors fade, focus slips, cracks appear, spacing drifts ‚Äî
            until it ‚Äúdies‚Äù. No refresh can save it. (Well‚Ä¶ refresh can save it, but pretend it can‚Äôt üôÇ)
          </p>
        </div>

        <div class="status">
          <span class="dot"></span>
          <strong id="timeLeft">05:00</strong>
          <div class="bar" aria-label="life bar"><i id="life"></i></div>
        </div>
      </header>

      <div class="grid">
        <section class="panel">
          <h2>Memory</h2>
          <div class="list">
            <div class="item"><div class="ico">A</div><div><strong>Brightness</strong><br><span>Fades as time passes.</span></div></div>
            <div class="item"><div class="ico">B</div><div><strong>Clarity</strong><br><span>Blur and noise increase.</span></div></div>
            <div class="item"><div class="ico">C</div><div><strong>Structure</strong><br><span>Layout slowly warps.</span></div></div>
          </div>

          <div class="actions">
            <button id="poke">Poke the site</button>
            <button id="restart">Restart (cheat)</button>
          </div>
        </section>

        <section class="panel">
          <h2>Notes</h2>
          <p style="margin:0;color:rgba(255,255,255,.72)">
            This is a ‚Äútime creature‚Äù website: it exists as a short lived organism.
            Use it for art pages, product drops, secret experiences, or timed events.
          </p>
          <p id="log" style="margin-top:14px; font-size:14px;"></p>
        </section>
      </div>

      <div class="dead" id="dead">
        <div class="box">
          <h3>It‚Äôs over.</h3>
          <p>
            The website lived for five minutes. If you want it again, you must ‚Äúrebirth‚Äù it.
            (Refresh or press Restart.)
          </p>
        </div>
      </div>
    </div>
  </div>

<script>
(() => {
  const DURATION_MS = 5 * 60 * 1000; // 5 minutes
  const root = document.documentElement;
  const timeEl = document.getElementById("timeLeft");
  const lifeEl = document.getElementById("life");
  const deadEl = document.getElementById("dead");
  const logEl  = document.getElementById("log");
  const pokeBtn = document.getElementById("poke");
  const restartBtn = document.getElementById("restart");

  // Optional: persist the "birth time" so refresh doesn't reset (same-tab only)
  // Comment these 2 lines if you want refresh to restart.
  const KEY = "aging_site_birth_ts";
  let birth = Number(sessionStorage.getItem(KEY)) || Date.now();
  sessionStorage.setItem(KEY, String(birth));

  let pokeDebt = 0; // temporary extra aging spikes

  function clamp01(x){ return Math.max(0, Math.min(1, x)); }

  function fmt(ms){
    ms = Math.max(0, ms);
    const s = Math.floor(ms / 1000);
    const m = Math.floor(s / 60);
    const r = s % 60;
    return String(m).padStart(2,"0") + ":" + String(r).padStart(2,"0");
  }

  function tick(){
    const now = Date.now();
    const elapsed = now - birth;

    // Base age 0..1
    let age = clamp01(elapsed / DURATION_MS);

    // Add poke spikes that decay
    pokeDebt *= 0.92;
    age = clamp01(age + pokeDebt);

    root.style.setProperty("--age", age.toFixed(4));

    const left = DURATION_MS - elapsed;
    timeEl.textContent = fmt(left);

    // Life bar is inverse of age
    lifeEl.style.width = ((1 - age) * 100).toFixed(2) + "%";

    // As it gets old, change hue slightly (like yellowing paper)
    const hue = 210 - age * 40;
    root.style.setProperty("--tint", hue.toFixed(1));

    // Random micro-jitter increases
    if (age > 0.65) {
      const jx = (Math.random() - 0.5) * age * 1.2;
      const jy = (Math.random() - 0.5) * age * 1.0;
      document.getElementById("scene").style.transform =
        `translate(${jx}px, ${jy}px)`;
    } else {
      document.getElementById("scene").style.transform = "";
    }

    // Death
    if (elapsed >= DURATION_MS){
      deadEl.classList.add("show");
      logEl.textContent = "The site stopped responding. (It died.)";
    } else {
      deadEl.classList.remove("show");
    }

    requestAnimationFrame(tick);
  }

  pokeBtn.addEventListener("click", () => {
    // Each poke makes it briefly older (and logs the ‚Äúpain‚Äù)
    pokeDebt = Math.min(0.35, pokeDebt + 0.06);
    logEl.textContent = "You disturbed it. The aging accelerated for a moment.";
  });

  restartBtn.addEventListener("click", () => {
    birth = Date.now();
    sessionStorage.setItem(KEY, String(birth));
    pokeDebt = 0;
    logEl.textContent = "Rebirth initiated. Time starts again.";
  });

  tick();
})();
</script>
</body>
</html>
